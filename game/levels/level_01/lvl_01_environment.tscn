[gd_scene load_steps=16 format=4 uid="uid://lr7e0228li7o"]

[ext_resource type="PackedScene" uid="uid://dpo74jgegjm4j" path="res://game/levels/sm_meda_terrain.tscn" id="1_e7x1t"]
[ext_resource type="ArrayMesh" uid="uid://bq2kevkop60kl" path="res://game/levels/level_01/meshes/level1_ground_mesh.tres" id="2_fqbd2"]
[ext_resource type="PackedScene" uid="uid://br8mk8iny13l4" path="res://game/gateway/game_gateway.tscn" id="2_tbpkv"]
[ext_resource type="PackedScene" uid="uid://dkk8um5b67xxf" path="res://game/levels/level_01/sm_meda_terrain_objects.tscn" id="4_wgjep"]
[ext_resource type="Shader" path="res://addons/simplegrasstextured/shaders/grass.gdshader" id="5_v5tce"]
[ext_resource type="Texture2D" uid="uid://c4ggdp0kg5wjk" path="res://addons/simplegrasstextured/textures/grassbushcc008.png" id="6_s5b8t"]
[ext_resource type="Script" path="res://addons/simplegrasstextured/grass.gd" id="7_je0a0"]
[ext_resource type="Texture2D" uid="uid://mximnxiwi46y" path="res://common/art/textures/tex_frothy_water.png" id="8_pf2jp"]
[ext_resource type="Script" path="res://game/actors/player_controller/terrain_area.gd" id="9_k1let"]

[sub_resource type="NavigationMesh" id="NavigationMesh_2i46x"]
vertices = PackedVector3Array(12.7939, 0.435152, 2.79703, 13.5439, 1.18515, 2.79703, 12.7939, 0.435152, 2.54703, 12.7939, 0.435152, 1.79703, 13.7939, 1.18515, 1.79703, 13.0439, 0.435152, 1.54703, -5.45612, 0.935152, -12.953, -6.20612, 1.68515, -12.953, -5.45612, 0.935152, -12.453, 12.5439, 0.685152, 3.29703, 13.0439, 0.435152, 0.797031, -10.7061, 2.18515, 4.54703, -11.4561, 2.93515, 4.54703, -11.7061, 3.18515, 5.04703, -10.2061, 1.93515, 7.79703, 13.0439, 1.93515, 5.29703, 13.2939, 2.68515, 6.29703, 13.7939, 3.18515, 6.29703, 14.2939, 3.18515, 5.29703, 14.0439, 1.93515, 3.29703, 13.5439, 1.93515, 4.04703, 4.54388, 0.435152, 9.29703, 11.7939, 0.685152, 7.29703, 12.0439, 1.18515, 5.29703, 9.54388, 3.93515, 11.047, 11.0439, 3.93515, 9.54703, 4.54388, 1.18515, 10.297, 3.79388, 1.43515, 13.047, -5.45612, 0.435152, -10.203, -5.70612, 0.685152, -11.453, -10.7061, 1.93515, -9.45297, -12.9561, 1.93515, -4.20297, -12.9561, 2.43515, -1.70297, -11.2061, 0.685152, 1.04703, -10.436, 0.435152, -3.95106, -11.951, 1.18515, -2.44007, -8.97608, 0.435152, -6.94501, -10.4611, 0.935152, -6.95599, 12.5439, 0.935152, 4.04703, -7.45612, 0.435152, 10.547, -2.20612, 1.18515, 13.047, -4.83112, 0.435152, 11.797, 1.52392, 0.435152, 11.055, 13.5439, 0.685152, 0.797031, 13.2939, 0.435152, -0.702969, 13.5439, 2.93515, -9.45297, 12.7939, 2.93515, -10.203, 12.0439, 2.93515, -10.203, 14.5439, 2.93515, -5.45297, 15.0439, 3.18515, -5.45297, 12.6689, 2.43515, -9.01547, 13.9189, 2.43515, -6.64047, 12.0439, 2.93515, -10.703, 10.5439, 2.68515, -10.953, -3.20612, 2.18515, -13.203, 0.0438824, 1.43515, -13.953, -3.20612, 2.18515, -14.953, -5.45612, 1.18515, -13.953, -2.12278, 2.43515, -13.453, -2.12278, 2.43515, -14.6196, -4.33112, 1.18515, -14.453, 8.04388, 1.93515, -13.203, 8.54388, 1.68515, -13.453, 6.54388, 2.18515, -14.703, -9.59897, 1.93515, 5.11846, -9.06326, 1.93515, 6.4756, -7.99183, 0.435152, 9.18989, 12.9501, 0.435152, -1.98422, 12.6064, 1.43515, -3.26547, 11.9189, 0.685152, -5.82797, 6.18025, 0.935152, -10.7484, 3.27115, 0.435152, -10.6121, -5.9696, 0.435152, 6.55641, 10.5644, 0.435152, -3.96158, -4.48051, 1.18515, -2.42861, -7.44502, 0.435152, 2.07186, -2.95066, 0.435152, -3.96046, -5.96553, 0.435152, -2.4396, 9.019, 1.43515, -8.4681, -2.98015, 0.435152, 0.550999, -2.9455, 0.935152, -2.46763, -7.45461, 0.685152, 6.54542, 7.51912, 0.935152, -6.95823, 4.51924, 0.435152, -5.44836, 6.04898, 0.435152, -8.44007, -7.45473, 0.935152, 5.03555, -5.95485, 0.435152, 3.52568, -1.46049, 0.435152, -2.45664, -8.98003, 0.435152, 2.06087, 9.02428, 0.435152, -5.46539, -10.7061, 1.68515, 3.79703, -9.40612, 1.93515, 6.49703, -8.10612, 0.435152, 9.19703, -5.45612, 0.685152, -11.203, 13.6064, 0.435152, -1.89047, -11.4561, 2.43515, 3.79703, -11.3311, 0.935152, 2.42203, 10.2939, 2.43515, -11.703, 8.04388, 2.18515, -12.203, 2.54388, 0.935152, -12.703, -1.70612, 0.435152, -11.453, 1.12722, 0.435152, -12.2863, 2.79388, 1.93515, -13.953, 1.04388, 0.435152, -13.203, -9.28945, 0.685152, 8.7137)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(2, 0, 9), PackedInt32Array(10, 5, 3), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 14), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(18, 15, 20), PackedInt32Array(18, 20, 19), PackedInt32Array(23, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(32, 35, 33), PackedInt32Array(33, 34, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(30, 37, 31), PackedInt32Array(31, 35, 32), PackedInt32Array(35, 34, 33), PackedInt32Array(34, 36, 28), PackedInt32Array(28, 36, 30), PackedInt32Array(37, 34, 31), PackedInt32Array(30, 36, 37), PackedInt32Array(31, 34, 35), PackedInt32Array(34, 37, 36), PackedInt32Array(23, 38, 15), PackedInt32Array(15, 38, 20), PackedInt32Array(41, 42, 40), PackedInt32Array(40, 42, 27), PackedInt32Array(27, 42, 26), PackedInt32Array(26, 42, 21), PackedInt32Array(21, 42, 39), PackedInt32Array(39, 42, 41), PackedInt32Array(3, 2, 9), PackedInt32Array(44, 43, 10), PackedInt32Array(47, 46, 50), PackedInt32Array(50, 46, 45), PackedInt32Array(50, 45, 51), PackedInt32Array(51, 45, 48), PackedInt32Array(48, 45, 49), PackedInt32Array(53, 52, 47), PackedInt32Array(57, 60, 6), PackedInt32Array(6, 60, 54), PackedInt32Array(54, 60, 56), PackedInt32Array(54, 56, 59), PackedInt32Array(54, 59, 58), PackedInt32Array(58, 59, 55), PackedInt32Array(38, 23, 9), PackedInt32Array(63, 62, 61), PackedInt32Array(71, 76, 28), PackedInt32Array(28, 77, 33), PackedInt32Array(33, 88, 64), PackedInt32Array(64, 85, 65), PackedInt32Array(65, 81, 66), PackedInt32Array(66, 72, 39), PackedInt32Array(39, 72, 21), PackedInt32Array(21, 73, 44), PackedInt32Array(44, 73, 67), PackedInt32Array(67, 73, 68), PackedInt32Array(68, 73, 69), PackedInt32Array(69, 78, 53), PackedInt32Array(53, 78, 70), PackedInt32Array(70, 84, 71), PackedInt32Array(76, 77, 28), PackedInt32Array(71, 83, 76), PackedInt32Array(77, 88, 33), PackedInt32Array(88, 85, 64), PackedInt32Array(85, 81, 65), PackedInt32Array(81, 72, 66), PackedInt32Array(72, 79, 21), PackedInt32Array(21, 83, 73), PackedInt32Array(73, 89, 69), PackedInt32Array(69, 89, 78), PackedInt32Array(78, 84, 70), PackedInt32Array(84, 83, 71), PackedInt32Array(76, 74, 77), PackedInt32Array(83, 87, 76), PackedInt32Array(77, 75, 88), PackedInt32Array(88, 75, 85), PackedInt32Array(85, 72, 81), PackedInt32Array(79, 87, 21), PackedInt32Array(72, 86, 79), PackedInt32Array(83, 89, 73), PackedInt32Array(21, 87, 83), PackedInt32Array(89, 82, 78), PackedInt32Array(78, 82, 84), PackedInt32Array(84, 82, 83), PackedInt32Array(74, 79, 77), PackedInt32Array(76, 80, 74), PackedInt32Array(87, 80, 76), PackedInt32Array(77, 79, 75), PackedInt32Array(75, 86, 85), PackedInt32Array(85, 86, 72), PackedInt32Array(79, 80, 87), PackedInt32Array(86, 75, 79), PackedInt32Array(83, 82, 89), PackedInt32Array(74, 80, 79), PackedInt32Array(39, 92, 66), PackedInt32Array(66, 92, 65), PackedInt32Array(65, 92, 91), PackedInt32Array(65, 91, 64), PackedInt32Array(64, 91, 90), PackedInt32Array(64, 90, 33), PackedInt32Array(8, 6, 54), PackedInt32Array(29, 8, 93), PackedInt32Array(93, 8, 54), PackedInt32Array(44, 67, 94), PackedInt32Array(94, 67, 68), PackedInt32Array(94, 68, 48), PackedInt32Array(48, 68, 51), PackedInt32Array(51, 68, 69), PackedInt32Array(51, 69, 50), PackedInt32Array(50, 69, 47), PackedInt32Array(47, 69, 53), PackedInt32Array(29, 93, 28), PackedInt32Array(44, 10, 3), PackedInt32Array(95, 96, 90), PackedInt32Array(90, 96, 33), PackedInt32Array(97, 53, 98), PackedInt32Array(98, 53, 70), PackedInt32Array(98, 70, 71), PackedInt32Array(98, 71, 99), PackedInt32Array(99, 71, 101), PackedInt32Array(101, 71, 100), PackedInt32Array(100, 71, 28), PackedInt32Array(61, 98, 63), PackedInt32Array(63, 98, 102), PackedInt32Array(102, 98, 99), PackedInt32Array(99, 101, 103), PackedInt32Array(103, 101, 100), PackedInt32Array(9, 23, 3), PackedInt32Array(39, 104, 92), PackedInt32Array(92, 104, 14), PackedInt32Array(92, 14, 91), PackedInt32Array(91, 14, 11), PackedInt32Array(91, 11, 90), PackedInt32Array(3, 23, 44), PackedInt32Array(44, 23, 21)]
agent_max_slope = 60.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qp6jm"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("5_v5tce")
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/texture_frames = Vector2(1, 1)
shader_parameter/light_mode = 1
shader_parameter/alpha_scissor_threshold = 0.5
shader_parameter/normal_scale = 1.0
shader_parameter/metallic = 0.0
shader_parameter/metallic_texture_channel = Vector4(1, 0, 0, 0)
shader_parameter/roughness = 1.0
shader_parameter/roughness_texture_channel = Vector4(1, 0, 0, 0)
shader_parameter/specular = 0.5
shader_parameter/scale_h = 1.0
shader_parameter/scale_w = 1.0
shader_parameter/scale_var = -0.25
shader_parameter/grass_strength = 0.55
shader_parameter/optimization_by_distance = false
shader_parameter/optimization_level = 7.0
shader_parameter/optimization_dist_min = 10.0
shader_parameter/optimization_dist_max = 50.0
shader_parameter/grass_size_y = 1.0
shader_parameter/interactive_mode = true
shader_parameter/interactive_level_xz = 3.0
shader_parameter/interactive_level_y = 0.3
shader_parameter/texture_albedo = ExtResource("6_s5b8t")

[sub_resource type="ArrayMesh" id="ArrayMesh_ehgr7"]
_surfaces = [{
"aabb": AABB(-0.5, 0, -0.5, 1, 1, 1),
"attribute_data": PackedByteArray("/wAA/wAAAAAAAAAAAAAA/wAAgD8AAIA/AAAA/wAAAAAAAIA//wAA/wAAgD8AAAAA/wAA/wAAAAAAAAAAAAAA/wAAgD8AAIA/AAAA/wAAAAAAAIA//wAA/wAAgD8AAAAA"),
"format": 34359742495,
"index_count": 12,
"index_data": PackedByteArray("AAABAAIAAwABAAAABAAFAAYABwAFAAQA"),
"material": SubResource("ShaderMaterial_qp6jm"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("AAAAvwAAgD8AAAAAAAAAPwAAAAAAAAAAAAAAvwAAAAAAAAAAAAAAPwAAgD8AAAAAAAAAAAAAgD8AAAC/AAAAAAAAAAAAAAA/AAAAAAAAAAAAAAC/AAAAAAAAgD8AAAA//3//f////7//f/9/////v/9//3////+//3//f////78AAP9//3//vwAA/3//f/+/AAD/f/9//78AAP9//3//vw==")
}]
metadata/GodotVersion = "4.3-stable (official)"

[sub_resource type="MultiMesh" id="MultiMesh_m3ul1"]
transform_format = 1
mesh = SubResource("ArrayMesh_ehgr7")

[sub_resource type="BoxShape3D" id="BoxShape3D_i5vqk"]
size = Vector3(17.0123, 0.976685, 20.5148)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fegvc"]
transparency = 1
albedo_texture = ExtResource("8_pf2jp")

[node name="Level01Environment" type="Node3D"]

[node name="sm_meda_terrain" parent="." instance=ExtResource("1_e7x1t")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="sm_meda_terrain"]
navigation_mesh = SubResource("NavigationMesh_2i46x")

[node name="MeshInstance3D" type="MeshInstance3D" parent="sm_meda_terrain/NavigationRegion3D"]
visible = false
mesh = ExtResource("2_fqbd2")

[node name="sm_meda_terrain2" parent="." instance=ExtResource("1_e7x1t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 44.7745, 0, 0)

[node name="LocationDoorway" parent="." node_paths=PackedStringArray("destination_mark") instance=ExtResource("2_tbpkv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.1917, 0.831817, 4.2338)
destination_mark = NodePath("../Marker3D")

[node name="LocationDoorway2" parent="." node_paths=PackedStringArray("destination_mark") instance=ExtResource("2_tbpkv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.4874, 0.102823, -2.91653)
destination_mark = NodePath("../Marker3D2")

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.6203, 0, -2.47196)

[node name="Marker3D2" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.99835, 0, 1.33745)

[node name="sm_meda_terrain_objects" parent="." instance=ExtResource("4_wgjep")]

[node name="SimpleGrassTextured" type="MultiMeshInstance3D" parent="."]
multimesh = SubResource("MultiMesh_m3ul1")
script = ExtResource("7_je0a0")
texture_albedo = ExtResource("6_s5b8t")
sgt_radius = 2.0
sgt_density = 25
sgt_scale = 1.0
sgt_rotation = 0.0
sgt_rotation_rand = 1.0
sgt_dist_min = 0.25
sgt_follow_normal = true
metadata/SimpleGrassTextured = "2.0.5"

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.46709, 2.4885, -0.388036)

[node name="TerrainArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.69738, -0.341686, -1.13177)
script = ExtResource("9_k1let")
type = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="TerrainArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.225403, -0.0116577, -1.88519)
shape = SubResource("BoxShape3D_i5vqk")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.69738, -0.341686, -1.13177)
size = Vector3(18.9907, 1, 23.5894)
material = SubResource("StandardMaterial3D_fegvc")

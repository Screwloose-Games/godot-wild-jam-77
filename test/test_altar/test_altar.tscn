[gd_scene load_steps=8 format=3 uid="uid://c00efwicnnxyl"]

[ext_resource type="PackedScene" uid="uid://cbkvroagayyyc" path="res://game/altar/game_altar.tscn" id="1_4r4mg"]
[ext_resource type="Script" path="res://test/test_altar/test_altar.gd" id="1_cutrg"]
[ext_resource type="PackedScene" uid="uid://c37xc7ws27epc" path="res://game/actors/player_controller/game_player_character.tscn" id="2_cw2n0"]
[ext_resource type="PackedScene" uid="uid://crco2b1srkhyo" path="res://game/actors/enemies/game_melee_enemy.tscn" id="4_sl8t0"]
[ext_resource type="PackedScene" uid="uid://cjvwl6p4y6vvt" path="res://test/personal/test_loopy/purification_progress_sample.tscn" id="4_vf2uh"]

[sub_resource type="SphereShape3D" id="SphereShape3D_0ny1f"]
radius = 11.5

[sub_resource type="NavigationMesh" id="NavigationMesh_v6ary"]
vertices = PackedVector3Array(-15.6379, 0.10678, -26.1562, -15.6379, 0.10678, 5.3438, 3.61206, 0.10678, 5.3438, 3.61206, 0.10678, -26.1562)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[node name="TestAltar" type="Node3D"]
script = ExtResource("1_cutrg")

[node name="Progress_Slider" type="HSlider" parent="."]
offset_left = 126.0
offset_top = 92.0
offset_right = 547.0
offset_bottom = 134.0
max_value = 1.0
step = 0.1

[node name="Label" type="Label" parent="Progress_Slider"]
layout_mode = 0
offset_left = 112.0
offset_top = -46.0
offset_right = 296.0
offset_bottom = -23.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
text = "Purifacation Progress: 0"

[node name="Altar" parent="." node_paths=PackedStringArray("assigned_enemies") instance=ExtResource("1_4r4mg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.76442, 4.76837e-07, -3.61183)
assigned_enemies = []

[node name="purafication_range" parent="Altar" index="3"]
collision_layer = 4

[node name="CollisionShape3D" parent="Altar/purafication_range" index="0"]
shape = SubResource("SphereShape3D_0ny1f")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_v6ary")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.06824, -1.11563, -10.3915)
use_collision = true
size = Vector3(20.1394, 1.55518, 32.5294)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]

[node name="PlayerCharacter" parent="." instance=ExtResource("2_cw2n0")]

[node name="MeleeEnemy" parent="." instance=ExtResource("4_sl8t0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.46675, -0.33804, 0.68258)
turning_speed = 1.0

[node name="purification_progress_sample2" parent="." node_paths=PackedStringArray("mesh") instance=ExtResource("4_vf2uh")]
mesh = NodePath("Fleshballs")

[node name="purification_progress_sample3" parent="." node_paths=PackedStringArray("mesh") instance=ExtResource("4_vf2uh")]
transform = Transform3D(0.456, 0, 0, 0, 0.489, 0, 0, 0, 0.506, -0.853504, 0.144036, -7.48853)
mesh = NodePath("Fleshballs")

[connection signal="value_changed" from="Progress_Slider" to="." method="_on_progress_slider_value_changed"]
[connection signal="area_entered" from="Altar/purafication_range" to="Altar" method="_on_purafication_range_area_entered"]

[editable path="Altar"]
[editable path="purification_progress_sample2"]
[editable path="purification_progress_sample3"]
